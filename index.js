(function(){"use strict";function i(e){const t=window.panel.plugins.thirdParty;if(t.__marksInitialized)return;const n=t.marks;if(!n)return;const s=e.component("k-writer");e.component("k-writer",{extends:s,methods:{createMarks(){const l=s.options.methods.createMarks.call(this).filter(({name:r})=>!Object.keys(n).includes(r)),c=Object.entries(n).reduce((r,[d,m])=>(r[d]=new m,r),{});return[...l,...this.filterExtensions(c,this.marks)]}}}),t.__marksInitialized=!0}class o{constructor(t={}){this.options={...this.defaults,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaults(){return{}}plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class a extends o{constructor(t={}){super(t)}command(){return()=>{}}remove(){this.editor.removeMark(this.name)}get schema(){return null}get type(){return"mark"}toggle(){return this.editor.toggleMark(this.name)}update(t){this.editor.updateMark(this.name,t)}}class u extends a{get button(){return{icon:"quote",label:"Footnote"}}commands(){return()=>this.toggle()}get name(){return"footnote"}get schema(){return{parseDOM:[{tag:"article-footnote"}],toDOM:t=>["article-footnote",{...t.attrs},0]}}}window.panel.plugin("johannschopplich/kirby-writer-marks",{use:[i],thirdParty:{marks:{...window.panel.plugins.thirdParty.marks||{},footnote:u}}})})();
